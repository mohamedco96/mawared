<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filament Debug Test</title>
    <style>
        body {
            font-family: 'Cairo', Arial, sans-serif;
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 20px;
        }
        .input-group {
            margin: 20px 0;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }
        input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 4px;
            font-size: 18px;
            box-sizing: border-box;
        }
        .info {
            background: #e0f2f1;
            padding: 15px;
            border-radius: 4px;
            margin: 20px 0;
        }
        .console-log {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 4px;
            margin: 20px 0;
            font-family: monospace;
            font-size: 14px;
            max-height: 300px;
            overflow-y: auto;
        }
        .log-entry {
            padding: 2px 0;
            border-bottom: 1px solid #333;
        }
        button {
            background: #0d9488;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }
        button:hover {
            background: #0f766e;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ” Ø§Ø®ØªØ¨Ø§Ø± ØªØµØ­ÙŠØ­ Ø£Ø®Ø·Ø§Ø¡ Filament</h1>

        <div class="info">
            <strong>Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ù„Ù„ØªØ´Ø®ÙŠØµ:</strong>
            <p>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± "ØªÙØ¹ÙŠÙ„ ÙˆØ¶Ø¹ Ø§Ù„ØªØµØ­ÙŠØ­" Ø«Ù… Ø­Ø§ÙˆÙ„ Ø§Ù„ÙƒØªØ§Ø¨Ø© ÙÙŠ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø£Ø¯Ù†Ø§Ù‡ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©.</p>
        </div>

        <button onclick="enableDebug()">ØªÙØ¹ÙŠÙ„ ÙˆØ¶Ø¹ Ø§Ù„ØªØµØ­ÙŠØ­</button>
        <button onclick="clearLogs()">Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„Ø§Øª</button>

        <div class="input-group">
            <label>Ø­Ù‚Ù„ Ù†ØµÙŠ (dir="ltr" + inputmode="decimal"):</label>
            <input type="text" dir="ltr" inputmode="decimal" placeholder="Ø§ÙƒØªØ¨ Ø£Ø±Ù‚Ø§Ù… Ø¹Ø±Ø¨ÙŠØ© Ù‡Ù†Ø§" id="test1">
        </div>

        <div class="input-group">
            <label>Ø­Ù‚Ù„ Ù†ØµÙŠ (dir="ltr" ÙÙ‚Ø·):</label>
            <input type="text" dir="ltr" placeholder="Ø§ÙƒØªØ¨ Ø£Ø±Ù‚Ø§Ù… Ø¹Ø±Ø¨ÙŠØ© Ù‡Ù†Ø§" id="test2">
        </div>

        <div class="input-group">
            <label>Ø­Ù‚Ù„ Ø±Ù‚Ù…ÙŠ (type="number"):</label>
            <input type="number" step="0.01" placeholder="Ø§ÙƒØªØ¨ Ø£Ø±Ù‚Ø§Ù… Ø¹Ø±Ø¨ÙŠØ© Ù‡Ù†Ø§" id="test3">
        </div>

        <h3>Ø³Ø¬Ù„ ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ…:</h3>
        <div class="console-log" id="console-output">
            <div class="log-entry">ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø£Ø­Ø¯Ø§Ø«...</div>
        </div>
    </div>

    <script>
        // Custom console logger
        let logs = [];
        const consoleOutput = document.getElementById('console-output');

        function addLog(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString('ar-EG');
            const logEntry = `[${timestamp}] ${type}: ${message}`;
            logs.push(logEntry);

            const div = document.createElement('div');
            div.className = 'log-entry';
            div.style.color = type === 'error' ? '#ff6b6b' : type === 'success' ? '#51cf66' : '#d4d4d4';
            div.textContent = logEntry;

            consoleOutput.appendChild(div);
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        }

        function clearLogs() {
            logs = [];
            consoleOutput.innerHTML = '<div class="log-entry">Ø§Ù„Ø³Ø¬Ù„Ø§Øª ØªÙ… Ù…Ø³Ø­Ù‡Ø§...</div>';
        }

        function enableDebug() {
            addLog('ÙˆØ¶Ø¹ Ø§Ù„ØªØµØ­ÙŠØ­ Ù…ÙØ¹Ù„! Ø¬Ø±Ø¨ Ø§Ù„ÙƒØªØ§Ø¨Ø© ÙÙŠ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø£Ø¹Ù„Ø§Ù‡.', 'success');
        }

        // Monitor all input events
        document.addEventListener('keydown', function(e) {
            if (e.target.tagName === 'INPUT') {
                const key = e.key;
                const arabicDigits = ['Ù ', 'Ù¡', 'Ù¢', 'Ù£', 'Ù¤', 'Ù¥', 'Ù¦', 'Ù§', 'Ù¨', 'Ù©'];
                const persianDigits = ['Û°', 'Û±', 'Û²', 'Û³', 'Û´', 'Ûµ', 'Û¶', 'Û·', 'Û¸', 'Û¹'];

                if (arabicDigits.includes(key) || persianDigits.includes(key)) {
                    addLog(`keydown: Ø§Ù„Ø²Ø± Ø§Ù„Ù…Ø¶ØºÙˆØ· = "${key}" | Ø§Ù„Ø­Ù‚Ù„ = ${e.target.id || 'unknown'}`, 'info');
                }
            }
        }, true);

        document.addEventListener('input', function(e) {
            if (e.target.tagName === 'INPUT') {
                addLog(`input: Ø§Ù„Ù‚ÙŠÙ…Ø© = "${e.target.value}" | Ø§Ù„Ø­Ù‚Ù„ = ${e.target.id || 'unknown'}`, 'info');
            }
        }, true);

        // Monitor if our script is loaded
        window.addEventListener('DOMContentLoaded', function() {
            addLog('DOMContentLoaded: Ø§Ù„ØµÙØ­Ø© Ø¬Ø§Ù‡Ø²Ø©', 'success');
        });

        // Check if Livewire is present
        setTimeout(() => {
            if (window.Livewire) {
                addLog('Livewire Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„ØµÙØ­Ø©', 'success');
            } else {
                addLog('Livewire ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ (Ù‡Ø°Ø§ Ø·Ø¨ÙŠØ¹ÙŠ ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±)', 'info');
            }
        }, 1000);
    </script>

    <!-- Load the Arabic converter script -->
    <script src="/js/filament/fix-arabic-numbers.js"></script>

    <script>
        // Verify the script loaded
        setTimeout(() => {
            addLog('ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„ØªØ­ÙˆÙŠÙ„', 'success');
        }, 100);
    </script>
</body>
</html>
